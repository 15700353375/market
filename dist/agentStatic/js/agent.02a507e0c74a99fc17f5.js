webpackJsonp([4],{334:function(t,e,s){var a=s(235)(s(382),s(429),null,null,null);t.exports=a.exports},352:function(t,e,s){"use strict";e.__esModule=!0;var a=s(237),o=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t}},374:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{title:{},option:{type:Array,default:[]}},data:function(){return{}},mounted:function(){},methods:{showMenu:function(t){},choseLi:function(t){"DropdownVueli"==t.target.className&&(this.$emit("change",t.target.dataset.value),$(".dropdownMenuVue").hide(),t.stopPropagation())}},components:{}}},377:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(352),o=function(t){return t&&t.__esModule?t:{default:t}}(a),i=s(48);e.default={props:["navData"],data:function(){return{activeLi:{staffSaleStatist:!1,customerList:!1,distributePower:!1,staffList:!1,systemList:!1},roleId:""}},methods:{initActiveLi:function(t){if(!$(t.target).hasClass("opend"))for(var e in this.activeLi)this.activeLi[e]=!1},navMenuClick:function(t){this.initActiveLi(t);var e=t.target.dataset.pathname,s=t.target.dataset.bread,a=t.target.dataset.tabs;this.$store.commit("common/setBread",s),this.$store.commit("common/setActiveLi",e),this.$store.commit("common/setActiveTab",a),this.$router.push({name:e})}},computed:(0,o.default)({},(0,i.mapState)({countLocalState:function(t){this.activeLi[t.common.activeLi]=!0,this.roleId=t.login.userInfo.role_id}}))}},378:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(352),o=function(t){return t&&t.__esModule?t:{default:t}}(a),i=s(28),n=s(48);e.default={data:function(){return{visible:!0,userName:"",role:"",phone:"",userId:"",btnLoading:!1}},mounted:function(){var t=this,e=this.$ajaxGet(i.urls.EMPLOYEE_GET_EMPLOYEE_INFO);e&&e.then(function(e){e&&200==e.code&&(t.userName=e.data.username,t.phone=e.data.mobile,t.role=e.data.role_id)})},computed:(0,o.default)({},(0,n.mapState)({countLocalState:function(t){this.userId=t.login.userInfo.user_id}})),methods:{comfirm:function(){var t=this;this.$validator.validateAll().then(function(e){if(e){t.btnLoading=!0;var s={username:t.userName,user_id:t.userId},a=t.$ajaxPost(i.urls.EMPLOYEE_UPDATE_INFO,s);a&&a.then(function(e){e&&200==e.code&&(t.$store.commit("login/setUserInfo",e.data.user_info),t.$message.success(e.message),t.cancel("SelfInfoDialog",!0))})}})},cancel:function(t,e){this.$emit("close",t,e)}},components:{}}},379:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(399),i=a(o),n=s(403),r=a(n),l=s(405),c=a(l),d=s(48);e.default={props:["navData"],data:function(){return{option:[{value:"SelfInfoDialog",label:"个人信息"},{value:"editPassWordDialog",label:"修改密码"},{value:"exit",label:"退出"}],dialogs:{SelfInfoDialog:!1,editPassWordDialog:!1}}},mounted:function(){},computed:(0,d.mapState)({username:function(t){return t.login.userInfo.username},agentCode:function(t){return t.login.userInfo.agent_code},bread:function(t){return t.common.bread}}),methods:{liChange:function(t){switch(t){case"SelfInfoDialog":case"editPassWordDialog":this.dialogs[t]=!0;break;case"exit":this.exit()}},close:function(t){this.dialogs[t]=!1},exit:function(){sessionStorage.removeItem("agentToken"),sessionStorage.removeItem("vuexData"),this.$store.commit("common/setBread","销售报表"),this.$store.commit("common/setActiveLi","staffSaleStatist"),this.$store.commit("common/setActiveTab","staffSaleStatist"),this.$router.push({path:"/"})}},components:{DropdownVue:i.default,SelfInfoDialog:r.default,editPassWordDialog:c.default}}},380:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(28);e.default={data:function(){return{visible:!0,agoPassWord:"",newPassWord:"",comfirmPassWord:"",btnLoading:!1}},methods:{comfirm:function(){var t=this;this.$validator.validateAll().then(function(e){if(e){t.btnLoading=!0;var s={old_password:t.agoPassWord,password:t.newPassWord,repassword:t.comfirmPassWord},o=t.$ajaxPost(a.urls.EMPLOYEE_UPDATE_PASSWORD,s);o&&o.then(function(e){e&&200==e.code&&(t.$message.success(e.message),t.$emit("close","editPassWordDialog",!0))})}t.btnLoading=!1})},cancel:function(t,e){this.$emit("close",t,e)}},components:{}}},382:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(402),i=a(o),n=s(404),r=a(n);e.default={data:function(){return{keywords:"",minLen:5,navData:[{index:"1",name:"销售报表",class:"zm-icomoon-icon_report-form",hasPermission:!0,list:[{index:"1-1",name:"汇总报表",hasPermission:!0,url:"/shop/report/collectReport"},{index:"1-2",name:"销售报表",hasPermission:!0,url:"/shop/report/collectReport"}]},{index:"2",name:"超市管理",class:"zm-icomoon-icon_report-form",hasPermission:!0,list:[{index:"2-1",name:"超市管理1",hasPermission:!0,url:"/shop/report/collectReport"},{index:"2-2",name:"超市管理2",hasPermission:!0,url:"/shop/report/collectReport"}]}]}},mounted:function(){},methods:{mask:function(t){return t.toLowerCase().replace(/^[^a-z]+/,"").replace(/[^a-z0-9]/g,"")}},components:{NavMenuVue:i.default,TopbarVue:r.default}}},399:function(t,e,s){var a=s(235)(s(374),s(409),null,null,null);t.exports=a.exports},402:function(t,e,s){var a=s(235)(s(377),s(414),null,null,null);t.exports=a.exports},403:function(t,e,s){var a=s(235)(s(378),s(427),null,null,null);t.exports=a.exports},404:function(t,e,s){var a=s(235)(s(379),s(412),null,null,null);t.exports=a.exports},405:function(t,e,s){var a=s(235)(s(380),s(408),null,null,null);t.exports=a.exports},408:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{staticClass:"editPassWordDialog",attrs:{width:"400px",effect:"fade",backdrop:!1},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[s("div",{staticClass:"header",slot:"modal-header"},[s("span",[t._v("修改密码")]),t._v(" "),s("span",{staticClass:"pull-right cancelIcon agent-Pop-up_icon_close",on:{click:function(e){t.cancel("editPassWordDialog")}}})]),t._v(" "),s("div",{staticClass:"content",slot:"modal-body"},[s("div",{staticClass:"part"},[s("div",{staticClass:"contentBody"},[s("form",{staticClass:"marginT-20"},[s("div",{staticClass:"vee-form-grop"},[s("span",{staticClass:"labelTitle"},[t._v("原密码：")]),t._v(" "),s("bs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"inlineBlock width-260",class:{input:!0,"is-danger":t.errors.has("agoPassWord")},attrs:{name:"agoPassWord",autocomplete:"off",type:"password"},model:{value:t.agoPassWord,callback:function(e){t.agoPassWord="string"==typeof e?e.trim():e},expression:"agoPassWord"}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("agoPassWord"),expression:"errors.has('agoPassWord')"}],staticClass:"is-danger marginL-75 displayBlock"},[t._v(t._s(t.errors.first("agoPassWord"))+"\n            ")])],1),t._v(" "),s("div",{staticClass:"vee-form-grop"},[s("span",{staticClass:"labelTitle"},[t._v("新密码：")]),t._v(" "),s("bs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"newPassWord",staticClass:"inlineBlock width-260",class:{input:!0,"is-danger":t.errors.has("newPassWord")},attrs:{name:"newPassWord",autocomplete:"off",type:"password"},model:{value:t.newPassWord,callback:function(e){t.newPassWord="string"==typeof e?e.trim():e},expression:"newPassWord"}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("newPassWord"),expression:"errors.has('newPassWord')"}],staticClass:"is-danger marginL-75 displayBlock"},[t._v(t._s(t.errors.first("newPassWord"))+"\n            ")])],1),t._v(" "),s("div",{staticClass:"vee-form-grop"},[s("span",{staticClass:"labelTitle"},[t._v("确认密码：")]),t._v(" "),s("bs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:$newPassWord",expression:"'required|confirmed:$newPassWord'"}],staticClass:"inlineBlock width-260",class:{input:!0,"is-danger":t.errors.has("comfirmPassWord")},attrs:{name:"comfirmPassWord",autocomplete:"off",type:"password"},model:{value:t.comfirmPassWord,callback:function(e){t.comfirmPassWord="string"==typeof e?e.trim():e},expression:"comfirmPassWord"}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("comfirmPassWord"),expression:"errors.has('comfirmPassWord')"}],staticClass:"is-danger marginL-75 displayBlock"},[t._v(t._s(t.errors.first("comfirmPassWord"))+"\n            ")])],1)])])])]),t._v(" "),s("div",{staticClass:"footer",slot:"modal-footer"},[s("div",{staticClass:"groupBtn width-236"},[s("button",{staticClass:"btn marginR-14",attrs:{type:"button"},on:{click:function(e){t.cancel("editPassWordDialog")}}},[t._v("取消\n      ")]),t._v(" "),s("button",{staticClass:"btn comfirm",class:{loading:t.btnLoading},attrs:{type:"button",disabled:t.btnLoading},on:{click:t.comfirm}},[t._v("确认\n      ")])])])])},staticRenderFns:[]}},409:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"DropdownVue"},[s("span",{staticClass:"title text-center",on:{click:t.showMenu}},[s("i",{staticClass:"agent-common_icon_me iconMe"}),t._v(t._s(t.title)+"\n  ")]),t._v(" "),s("ul",{staticClass:"dropdownMenuVue",on:{click:t.choseLi}},t._l(t.option,function(e){return s("li",{staticClass:"DropdownVueli",attrs:{"data-value":e.value}},[t._v(t._s(e.label)+"\n    ")])}))])},staticRenderFns:[]}},412:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mainRight"},[s("div",{staticClass:"topBar"},[s("div",{staticClass:"menue"},[s("div",{staticClass:"name pull-left"},[t._v("代理商ID："+t._s(t.agentCode))]),t._v(" "),s("div",{staticClass:"service pull-right"},[s("span",{staticClass:"phone"},[t._v("客服电话：400-881-5661")]),t._v(" "),s("DropdownVue",{staticClass:"paddingL-20 paddingR-20",attrs:{title:t.username,option:t.option},on:{change:t.liChange}})],1)]),t._v(" "),s("div",{staticClass:"bread"},[s("span",[t._v(t._s(t.bread))])])]),t._v(" "),s("div",{staticClass:"content"},[s("router-view")],1),t._v(" "),t.dialogs.SelfInfoDialog?s("SelfInfoDialog",{on:{close:t.close}}):t._e(),t._v(" "),t.dialogs.editPassWordDialog?s("editPassWordDialog",{on:{close:t.close}}):t._e()],1)},staticRenderFns:[]}},414:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mainLeft"},[s("div",{staticClass:"displayNone"},[t._v(t._s(t.countLocalState))]),t._v(" "),s("div",{staticClass:"logo"}),t._v(" "),s("dl",{staticClass:"text-center navMenu",on:{click:t.navMenuClick}},[s("dt",{class:{opend:t.activeLi.staffSaleStatist},attrs:{"data-pathName":"staffSaleStatist","data-bread":"销售报表","data-tabs":"staffSaleStatist"}},[t._v("销售报表\n    ")]),t._v(" "),s("dt",{class:{opend:t.activeLi.customerList},attrs:{"data-pathName":"customerList","data-bread":"超市管理"}},[t._v("超市管理\n    ")]),t._v(" "),1==t.roleId?s("dt",{class:{opend:t.activeLi.distributePower},attrs:{"data-pathName":"distributePower","data-bread":"授权管理","data-tabs":"distributePower"}},[t._v("授权管理\n    ")]):t._e(),t._v(" "),1==t.roleId?s("dt",{class:{opend:t.activeLi.staffList},attrs:{"data-pathName":"staffList","data-bread":"员工管理"}},[t._v("员工管理\n    ")]):t._e(),t._v(" "),1==t.roleId?s("dt",{class:{opend:t.activeLi.systemList},attrs:{"data-pathName":"systemList","data-bread":"系统管理"}},[t._v("系统管理\n    ")]):t._e()])])},staticRenderFns:[]}},427:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{staticClass:"SelfInfoDialog",attrs:{width:"400px",effect:"fade",backdrop:!1},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[s("div",{staticClass:"displayNone"},[t._v(t._s(t.countLocalState))]),t._v(" "),s("div",{staticClass:"header",slot:"modal-header"},[s("span",[t._v("个人信息")]),t._v(" "),s("span",{staticClass:"pull-right cancelIcon agent-Pop-up_icon_close",on:{click:function(e){t.cancel("SelfInfoDialog")}}})]),t._v(" "),s("div",{staticClass:"content",slot:"modal-body"},[s("div",{staticClass:"part"},[s("div",{staticClass:"contentBody"},[s("div",[s("span",{staticClass:"labelTitle"},[t._v("账号：")]),t._v(" "),s("span",{staticClass:"staffName"},[t._v(t._s(t.phone))])]),t._v(" "),s("form",{staticClass:"marginT-20"},[s("div",{staticClass:"vee-form-grop"},[s("span",{staticClass:"labelTitle"},[t._v("姓名：")]),t._v(" "),s("bs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"inlineBlock width-260",class:{input:!0,"is-danger":t.errors.has("user")},attrs:{name:"user",autocomplete:"off",type:"text"},model:{value:t.userName,callback:function(e){t.userName="string"==typeof e?e.trim():e},expression:"userName"}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("user"),expression:"errors.has('user')"}],staticClass:"is-danger marginL-75 displayBlock"},[t._v(t._s(t.errors.first("user"))+"\n            ")])],1)])])])]),t._v(" "),s("div",{staticClass:"footer",slot:"modal-footer"},[s("div",{staticClass:"groupBtn width-236"},[s("button",{staticClass:"btn marginR-14",attrs:{type:"button"},on:{click:function(e){t.cancel("SelfInfoDialog")}}},[t._v("取消\n      ")]),t._v(" "),s("button",{staticClass:"btn comfirm",class:{loading:t.btnLoading},attrs:{type:"button",disabled:t.btnLoading},on:{click:t.comfirm}},[t._v("确认\n      ")])])])])},staticRenderFns:[]}},429:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"vueRouter"}},[s("NavMenuVue"),t._v(" "),s("TopbarVue")],1)},staticRenderFns:[]}}});