webpackJsonp([0],{341:function(t,e,a){var s=a(235)(a(389),a(431),null,null,null);t.exports=s.exports},349:function(t,e,a){var s=a(235)(a(350),a(351),null,null,null);t.exports=s.exports},350:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(47),i=(s(n),a(236)),o=s(i);e.default={props:{value:{type:[String,Number]},options:{type:Array},searchBox:{type:Boolean,default:!1},all:{type:Boolean,default:!0},none:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"}},data:function(){return{currentVal:"",searchInput:"",optionsConfig:[],searchFunc:!1}},mounted:function(){},computed:{getOptionsConfig:function(){if(!this.searchFunc){if(this.optionsConfig=this.options,this.all){var t={value:"",label:"全部"};this.optionsConfig.unshift(t)}if(this.none){var e={value:"0",label:"无"};this.optionsConfig.unshift(e)}}},getCurrentVal:function(){if(!this.searchFunc)if(""==this.value)this.all&&(this.currentVal="全部");else if(0==this.value)this.none&&(this.currentVal="无");else{var t=o.default.find(this.optionsConfig,{value:parseInt(this.value)});t&&(this.currentVal=t.label)}}},watch:{searchInput:function(){var t=this;if(this.searchFunc=!0,this.searchInput){var e=[];this.options.forEach(function(a){o.default.includes(a.label,t.searchInput)&&e.push(a)}),this.optionsConfig=e}else this.optionsConfig=this.options}},methods:{showMenu:function(t){},choseLi:function(t){"liContent"==t.target.className&&(this.currentVal=t.target.innerText,this.$emit("input",t.target.dataset.value),$(".dropdownMenu").hide(),t.stopPropagation())}},components:{}}},351:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"selectVue"},[a("div",{staticClass:"displayNone"},[t._v(t._s(t.getOptionsConfig))]),t._v(" "),a("div",{staticClass:"displayNone"},[t._v(t._s(t.getCurrentVal))]),t._v(" "),t._m(0),t._v(" "),a("input",{attrs:{type:"text",readonly:"",placeholder:t.placeholder},domProps:{value:t.currentVal},on:{click:function(e){e.stopPropagation(),t.showMenu(e)}}}),t._v(" "),a("ul",{staticClass:"dropdownMenu",attrs:{id:(Math.random()+"").slice(2)},on:{click:t.choseLi}},[t.searchBox?a("li",{staticClass:"searchBox liContent"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],staticClass:"searchInput",domProps:{value:t.searchInput},on:{input:function(e){e.target.composing||(t.searchInput=e.target.value)}}})]):t._e(),t._v(" "),t._l(t.optionsConfig,function(e){return a("li",{staticClass:"liContent",attrs:{"data-value":e.value}},[t._v("\n      "+t._s(e.label)+"\n    ")])})],2)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"caretSpan"},[a("i",{staticClass:"caretBottom"})])}]}},352:function(t,e,a){"use strict";e.__esModule=!0;var s=a(237),n=function(t){return t&&t.__esModule?t:{default:t}}(s);e.default=n.default||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t}},353:function(t,e,a){var s=a(235)(a(354),a(356),null,null,null);t.exports=s.exports},354:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(355),i=s(n),o=a(349),r=s(o);e.default={props:{pagination:{type:Object},limitOption:{type:Boolean,default:!0},toPageOption:{type:Boolean,default:!0}},data:function(){return{page:""}},computed:{autoChangePage:function(){if(1!=this.pagination.centent.current_page){var t=Math.ceil(this.pagination.centent.total/this.pagination.centent.limit),e=this.pagination.centent.current_page>t?t:this.pagination.centent.current_page;this.$emit("changeCurrentPage",e)}}},methods:{loadData:function(){},changePage:function(t){var e=Math.abs(parseInt(t.target.value));this.page=e?e>this.pagination.centent.last_page?this.pagination.centent.last_page:e:1,this.$emit("changeCurrentPage",this.page)}},components:{pagination:i.default,SelevtVue:r.default}}},355:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[t.pagination.last_page>0?a("ul",{staticClass:"pagination",class:t.sizeClass},[t.showPrevious()?a("li",{class:{disabled:t.pagination.current_page<=1}},[t.pagination.current_page<=1?a("span",[a("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.config.previousText))])]):t._e(),t.pagination.current_page>1?a("a",{attrs:{href:"#","aria-label":t.config.ariaPrevioius},on:{click:function(e){e.preventDefault(),t.changePage(t.pagination.current_page-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.config.previousText))])]):t._e()]):t._e(),t._l(t.array,function(e){return a("li",{class:{active:e===t.pagination.current_page}},[a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.changePage(e)}}},[t._v(t._s(e))])])}),t.showNext()?a("li",{class:{disabled:t.pagination.current_page===t.pagination.last_page||0===t.pagination.last_page}},[t.pagination.current_page===t.pagination.last_page||0===t.pagination.last_page?a("span",[a("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.config.nextText))])]):t._e(),t.pagination.current_page<t.pagination.last_page?a("a",{attrs:{href:"#","aria-label":t.config.ariaNext},on:{click:function(e){e.preventDefault(),t.changePage(t.pagination.current_page+1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.config.nextText))])]):t._e()]):t._e()],2):t._e()])},staticRenderFns:[],name:"pagination",props:{pagination:{type:Object,required:!0},callback:{type:Function,required:!0},options:{type:Object},size:{type:String}},computed:{array:function(){if(this.pagination.last_page<=0)return[];var t=this.pagination.current_page-this.config.offset;t<1&&(t=1);var e=t+2*this.config.offset;e>=this.pagination.last_page&&(e=this.pagination.last_page);for(var a=[];t<=e;)a.push(t),t+=1;return a},config:function(){return Object.assign({offset:3,ariaPrevious:"Previous",ariaNext:"Next",previousText:"«",nextText:"»",alwaysShowPrevNext:!1},this.options)},sizeClass:function(){return"large"===this.size?"pagination-lg":"small"===this.size?"pagination-sm":""}},watch:{"pagination.per_page":function(t,e){+t!=+e&&this.callback()}},methods:{showPrevious:function(){return this.config.alwaysShowPrevNext||this.pagination.current_page>1},showNext:function(){return this.config.alwaysShowPrevNext||this.pagination.current_page<this.pagination.last_page},changePage:function(t){this.pagination.current_page!==t&&(this.$set(this.pagination,"current_page",t),this.callback())}}};e.default=s},356:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"paginationVue pull-right",class:{"marginR-12":!(t.limitOption&&t.toPageOption)}},[a("div",{staticClass:"displayNone"},[t._v(t._s(t.autoChangePage))]),t._v(" "),t.toPageOption?a("div",{staticClass:"toPage pull-right marginT-9 marginB-9"},[a("span",[t._v("跳转")]),t._v(" "),a("bs-input",{staticClass:"inlineBlock marginB-0 verticalAlignMiddle ",attrs:{type:"number"},on:{blur:t.changePage},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}),t._v(" "),a("span",[t._v("页")])],1):t._e(),t._v(" "),t.limitOption?a("div",{staticClass:"limit pull-right"},[a("SelevtVue",{attrs:{options:t.pagination.centent.options,all:!1},model:{value:t.pagination.centent.limit,callback:function(e){t.pagination.centent.limit=e},expression:"pagination.centent.limit"}})],1):t._e(),t._v(" "),a("pagination",{staticClass:"pull-right",attrs:{pagination:t.pagination.centent,callback:t.loadData,options:t.pagination.paginationOptions}})],1)},staticRenderFns:[]}},357:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{btnVal:"today",startDate:Moment().startOf("day"),endDate:Moment(),startDateConfig:{locale:"zh-cn",format:"YYYY-MM-DD HH:mm:ss",ignoreReadonly:!0,useCurrent:!1,maxDate:Moment()},endDateConfig:{format:"YYYY-MM-DD HH:mm:ss",locale:"zh-cn",ignoreReadonly:!0,useCurrent:!1,minDate:Moment().startOf()},comfirmCheck:{startDate:Moment().startOf("day"),endDate:Moment()}}},watch:{btnVal:function(t){var e=$(this.$refs.startDate.$el);switch(t){case"today":this.startDate=Moment().startOf("day"),this.endDate=Moment(),e.data("DateTimePicker").maxDate(Moment().startOf("day"));break;case"yesterday":this.startDate=Moment().subtract(1,"d").startOf("day"),this.endDate=Moment().subtract(1,"d").endOf("day");break;case"week":this.startDate=Moment().subtract(1,"w").startOf("day"),this.endDate=Moment();break;case"hYear":this.startDate=Moment().subtract(.5,"y").startOf("day"),this.endDate=Moment();break;case"year":this.startDate=Moment().subtract(1,"y").startOf("day"),this.endDate=Moment()}}},mounted:function(){var t=this,e=$(this.$refs.startDate.$el),a=$(this.$refs.endDate.$el);e.on("dp.change",function(e){a.data("DateTimePicker").minDate(e.date),t.filterTime(Moment(t.startDate),Moment(t.endDate))&&(t.comfirmCheck.startDate=Moment(t.startDate),t.comfirmCheck.endDate=Moment(t.endDate),t.$emit("input",{startTime:Moment(t.startDate).unix(),endTime:Moment(t.endDate).unix()}))}),a.on("dp.change",function(a){e.data("DateTimePicker").maxDate(a.date),t.filterTime(Moment(t.startDate),Moment(t.endDate))&&(t.comfirmCheck.startDate=Moment(t.startDate),t.comfirmCheck.endDate=Moment(t.endDate),t.$emit("input",{startTime:Moment(t.startDate).unix(),endTime:Moment(t.endDate).unix()}))}),e.on("dp.show",function(e){t.btnVal=""}),a.on("dp.show",function(e){t.btnVal=""})},methods:{filterTime:function(t,e){return t.format("YYYY-MM-DD HH:mm:ss")!=this.comfirmCheck.startDate.format("YYYY-MM-DD HH:mm:ss")||e.format("YYYY-MM-DD HH:mm:ss")!=this.comfirmCheck.endDate.format("YYYY-MM-DD HH:mm:ss")}},components:{}}},358:function(t,e,a){var s=a(235)(a(357),a(359),null,null,null);t.exports=s.exports},359:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"timeVue"},[a("button-group",{model:{value:t.btnVal,callback:function(e){t.btnVal=e},expression:"btnVal"}},[a("radio",{attrs:{"selected-value":"today"}},[t._v("今天")]),t._v(" "),a("radio",{attrs:{"selected-value":"yesterday"}},[t._v("昨天")]),t._v(" "),a("radio",{attrs:{"selected-value":"week"}},[t._v("近一周")]),t._v(" "),a("radio",{attrs:{"selected-value":"hYear"}},[t._v("近半年")]),t._v(" "),a("radio",{attrs:{"selected-value":"year"}},[t._v("近一年")])],1),t._v(" "),a("div",{staticClass:"input-group datePickerVue"},[a("date-picker",{ref:"startDate",attrs:{config:t.startDateConfig,readOnly:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t._v(" "),a("span",{staticClass:"splitSpan pull-left"},[t._v(" - ")]),t._v(" "),a("date-picker",{ref:"endDate",attrs:{config:t.endDateConfig,readOnly:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)},staticRenderFns:[]}},360:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(47),i=(s(n),a(236));s(i);e.default={props:{placeholder:{type:String,default:"请输入查询关键字"}},data:function(){return{searchInput:""}},methods:{search:function(){this.$emit("input",this.searchInput)}},components:{}}},361:function(t,e,a){var s=a(235)(a(360),a(362),null,null,null);t.exports=s.exports},362:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"searchVue"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],attrs:{placeholder:t.placeholder,type:"text"},domProps:{value:t.searchInput},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.search(e)},input:function(e){e.target.composing||(t.searchInput=e.target.value)}}}),t._v(" "),a("i",{staticClass:"agent-common_icon_search",on:{click:t.search}})])},staticRenderFns:[]}},363:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{title:{type:String,required:!1},attr:{type:String,required:!1},rowspan:{type:String},sortCallBack:{type:Function,required:!1}},data:function(){return{index:0,sortName:""}},mounted:function(){},methods:{sort:function(){switch(++this.index>2&&(this.index=0),this.index){case 0:this.sortName="";break;case 1:this.sortName="asc";break;case 2:this.sortName="desc"}this.sortName?this.$emit("sortCallBack",this.attr+":"+this.sortName):this.$emit("sortCallBack","")}},components:{}}},364:function(t,e,a){var s=a(235)(a(363),a(365),null,null,null);t.exports=s.exports},365:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{rowspan:t.rowspan},on:{click:t.sort}},[a("span",[t._v(t._s(t.title))]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"caretCus"},[a("span",{staticClass:"caretTop"}),t._v(" "),a("span",{staticClass:"caretBottom"})])}]}},366:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(47),i=s(n),o=a(236),r=s(o);e.default={props:{value:{type:[String,Number]},options:{type:Array},placeholder:{type:String,default:"请选择"},all:{type:Boolean,default:!0}},data:function(){return{currentVal:"",parentUl:{show:!1,options:[]},childUl:{show:!1,parentLabel:"",options:[]}}},mounted:function(){},computed:{getParentUl:function(){if(this.parentUl.options=i.default.clone(this.options),this.all){var t={province_id:"",province_name:"全部"};this.parentUl.options.unshift(t)}},formatCurrVal:function(){if(""==this.value)this.currentVal=this.parentUl.options[0].province_name;else for(var t="",e="",a="",s=0;s<this.parentUl.options.length;s++)(a=r.default.find(this.parentUl.options[s].child,{city_id:parseInt(this.value)}))&&(e=a.city_name,t=this.parentUl.options[s].province_name,this.currentVal=t+"-"+e)}},methods:{showCascadeVue:function(){this.parentUl.show=!0},clickParentLi:function(t){if(!t.target.dataset.province_id)return this.currentVal=""+t.target.innerText,this.$emit("input",""),this.parentUl.show=!1,this.childUl.show=!1,!1;var e=r.default.find(this.parentUl.options,{province_id:parseInt(t.target.dataset.province_id)});this.childUl.options=e.child,this.childUl.parentLabel=e.province_name,this.childUl.show=!0},clickChildLi:function(t){this.currentVal=this.childUl.parentLabel+"-"+t.target.innerText,this.$emit("input",t.target.dataset.city_id),this.parentUl.show=!1,this.childUl.show=!1}},components:{}}},367:function(t,e,a){var s=a(235)(a(366),a(368),null,null,null);t.exports=s.exports},368:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cascadeVue"},[a("div",{staticClass:"displayNone"},[t._v(t._s(t.getParentUl))]),t._v(" "),a("div",{staticClass:"displayNone"},[t._v(t._s(t.formatCurrVal))]),t._v(" "),a("span",{staticClass:"caretSpan",on:{click:t.showCascadeVue}},[a("i",{staticClass:"caretBottom"})]),t._v(" "),a("input",{attrs:{type:"text",placeholder:t.placeholder,readonly:""},domProps:{value:t.currentVal},on:{click:t.showCascadeVue}}),t._v(" "),a("div",{staticClass:"ulDiv",attrs:{id:(Math.random()+"").slice(2)}},[a("ul",{directives:[{name:"show",rawName:"v-show",value:t.parentUl.show,expression:"parentUl.show"}]},t._l(t.parentUl.options,function(e){return a("li",{attrs:{"data-province_id":e.province_id},on:{click:t.clickParentLi}},[t._v(t._s(e.province_name))])})),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.childUl.show,expression:"childUl.show"}],staticClass:"second"},t._l(t.childUl.options,function(e){return a("li",{attrs:{"data-city_id":e.city_id},on:{click:t.clickChildLi}},[t._v(t._s(e.city_name))])}))])])},staticRenderFns:[]}},375:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(28),i=a(349),o=s(i),r=a(47),l=s(r);e.default={props:["shopDetailData"],data:function(){return{comUtil:l.default,visible:!0,authorizeSuccess:!1,authorizeSuccessData:"",shopId:this.shopDetailData.shop_id,btn:{loading:!1},version:{value:1,options:[{value:1,label:"标准版"},{value:2,label:"增值版"}]},authorizeYear:{value:1,options:[{value:1,label:"一年"},{value:2,label:"两年"},{value:3,label:"三年"},{value:4,label:"四年"},{value:5,label:"五年"}]},saleMoney:"",RemainAuthorize:0,rules:""}},mounted:function(){$(".modal-dialog").on("click",function(t){var e=$(t.target),a=e.closest(".selectVue");if(a.length){(e.hasClass("caretBottom")||e.hasClass("caretSpan"))&&a.find("input").first().focus();var s=a.find(".dropdownMenu")[0].id;return $(".dropdownMenu").hide(),$("#"+s).show(),!1}$(".dropdownMenu").hide(),t.stopPropagation()})},computed:{getRules:function(){var t=this,e={action_type:3,user_id:"",version_type:this.version.value},a=this.$ajaxPost(n.urls.EMPOWER_GET_EMPOWERNUM,e);a&&a.then(function(e){e&&200==e.code&&(t.rule="required|max_value:-1",t.RemainAuthorize=e.data.empower_num,0!=t.remainAuthorize&&(t.rules="required|max_value:"+e.data.empower_num))})}},methods:{comfirm:function(){var t=this;this.$validator.validateAll().then(function(e){if(e){t.btn.loading=!0;var a={empower_num:t.authorizeYear.value,sale_money:t.saleMoney,shop_id:t.shopId,version_type:t.version.value},s=t.$ajaxPost(n.urls.SHOP_SHOP_EMPOWER,a,t.btn);s&&s.then(function(e){e&&200==e.code&&(t.authorizeSuccessData=t.formatTable(e.data),t.authorizeSuccess=!0)})}})},formatTable:function(t){return t.versionName=1==t.version_type?"标准版":"增值版",t.createTimeName=l.default.formatTime(t.create_time,"YYYY-MM-DD HH:mm"),t.expireTimeName=l.default.formatTime(t.expire_time,"YYYY-MM-DD HH:mm"),t},cancel:function(t,e){this.$emit("close",t,e)}},components:{SelevtVue:o.default}}},376:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(28),i=a(349),o=s(i),r=a(47),l=s(r),c=a(353),u=s(c);e.default={props:["shopDetailData"],data:function(){return{comUtil:l.default,visible:!0,shopId:this.shopDetailData.shop_id,staff:{value:this.shopDetailData.user_id,options:[]},btn:{loading:!1},tableData:[],tableCount:0,pagination:{centent:{total:0,current_page:1,last_page:0,limit:5,options:[{value:10,label:"10条/页"},{value:20,label:"20条/页"},{value:50,label:"50条/页"}]},paginationOptions:{offset:3,previousText:"<",nextText:">",alwaysShowPrevNext:!0}}}},mounted:function(){var t=this;$(".modal-dialog").on("click",function(t){var e=$(t.target),a=e.closest(".selectVue");if(a.length){(e.hasClass("caretBottom")||e.hasClass("caretSpan"))&&a.find("input").first().focus();var s=a.find(".dropdownMenu")[0].id;return $(".dropdownMenu").hide(),$("#"+s).show(),!1}$(".dropdownMenu").hide(),t.stopPropagation()}),this.$ajaxPost(n.urls.EMPLOYEE_ALL_EMPLOYEE).then(function(e){200==e.code&&(t.staff.options=l.default.formatEmployee(e.data))})},computed:{AllData:function(){var t={shop_id:this.shopId,limit:this.pagination.centent.limit,page:this.pagination.centent.current_page};this.queryList(t)}},methods:{queryList:function(t){var e=this,a=this.$ajaxGet(n.urls.SHOP_SHOP_EMPOWER_LIST,t);a&&a.then(function(t){t&&200==t.code&&(e.tableData=e.formatTable(t.data.list),e.pagination.centent.total=t.data.pagination.total_num,e.pagination.centent.last_page=t.data.pagination.total_page)})},comfirm:function(){var t=this;this.btn.loading=!0;var e={shop_id:this.shopId,user_id:this.staff.value};this.$ajaxGet(n.urls.SHOP_SALE_UPDATE,e,this.btn).then(function(e){e&&200==e.code&&(t.$message.success(e.message),t.cancel("MarketConsumerDialog",!0))})},cancel:function(t,e){this.$emit("close",t,e)},changeCurrentPage:function(t){this.pagination.centent.current_page=t},formatTable:function(t){return t.forEach(function(t){t.versionName=1==t.version_type?"标准版":"增值版",t.createTimeName=l.default.formatTime(t.create_time,"YYYY-MM-DD HH:mm"),t.expireTimeName=l.default.formatTime(t.expire_time,"YYYY-MM-DD HH:mm")}),t}},components:{SelevtVue:o.default,PaginationVue:u.default}}},389:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(352),i=s(n),o=a(28),r=a(47),l=s(r),c=a(364),u=s(c),d=a(358),v=s(d),p=a(349),_=s(p),h=a(367),f=s(h),m=a(353),g=s(m),C=a(361),b=s(C),D=a(401),y=s(D),x=a(400),M=s(x),w=a(48);e.default={data:function(){return{comUtil:l.default,status:{value:"",options:[{value:0,label:"过期"},{value:1,label:"正常"},{value:2,label:"禁用"}]},searchText:"",region:{value:"",options:[]},version:{value:"",options:[{value:0,label:"标准版（试用）"},{value:1,label:"标准版"},{value:2,label:"增值版"}]},staff:{value:"",options:[]},sort_index:"",tableData:[],tableCount:0,pagination:{centent:{total:0,current_page:1,last_page:0,limit:10,options:[{value:10,label:"10条/页"},{value:20,label:"20条/页"},{value:50,label:"50条/页"}]},paginationOptions:{offset:3,previousText:"<",nextText:">",alwaysShowPrevNext:!0}},refresh:!1,shopDetailData:"",dialogs:{MarketConsumerDialog:!1,MarkeAuthorizeDialog:!1}}},mounted:function(){var t=this;this.$ajaxPost(o.urls.EMPLOYEE_ALL_EMPLOYEE).then(function(e){200==e.code&&(t.staff.options=l.default.formatEmployee(e.data))})},computed:(0,i.default)({},(0,w.mapState)({countLocalState:function(t){this.region.options=t.common.regionOptions}}),{AllData:function(){var t={keywords:this.searchText,search_status:this.status.value,city_id:this.region.value,version_type:this.version.value,sort_index:this.sort_index,user_id:this.staff.value,limit:this.pagination.centent.limit,page:this.pagination.centent.current_page};this.refresh;this.queryList(t)}}),methods:{formatTable:function(t){var e=this;return t.forEach(function(t){t.regionName=l.default.formatRegion(t.province_id,t.city_id,e.region.options),t.versionName=0==t.version_type?"标准版（试用）":1==t.version_type?"标准版":"增值版",t.statusName=0==t.shop_status?"过期":1==t.shop_status?"正常":"禁用",t.createTimeName=l.default.formatTime(t.create_time,"YYYY-MM-DD HH:mm")}),t},queryList:function(t){var e=this;this.$ajaxGet(o.urls.SHOP_LIST,t).then(function(t){t&&200==t.code&&(e.tableData=e.formatTable(t.data.list),e.pagination.centent.total=t.data.pagination.total_num,e.pagination.centent.last_page=t.data.pagination.total_page)})},userDetail:function(t,e){var a=this,s={shop_id:e.target.dataset.shopid},n=this.$ajaxGet(o.urls.SHOP_DETAIL,s);n&&n.then(function(e){e&&200==e.code&&(a.shopDetailData=a.formatTable(e.data)[0],a.dialogs[t]=!0)})},sortCallBack:function(t){this.sort_index=t},close:function(t,e){this.dialogs[t]=!1,e&&(this.refresh=!this.refresh)},changeCurrentPage:function(t){this.pagination.centent.current_page=t}},components:{SortVue:u.default,TimeVue:v.default,SelevtVue:_.default,CascadeVue:f.default,PaginationVue:g.default,SearchVue:b.default,MarketConsumerDialog:y.default,MarkeAuthorizeDialog:M.default}}},400:function(t,e,a){var s=a(235)(a(375),a(415),null,null,null);t.exports=s.exports},401:function(t,e,a){var s=a(235)(a(376),a(416),null,null,null);t.exports=s.exports},415:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{staticClass:"MarkeAuthorizeDialog",attrs:{width:"600px",effect:"fade",backdrop:!1},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("div",{staticClass:"displayNone"},[t._v(t._s(t.getRules))]),t._v(" "),a("div",{staticClass:"header",slot:"modal-header"},[a("span",[t._v("授权")]),t._v(" "),a("span",{staticClass:"pull-right cancelIcon agent-Pop-up_icon_close",on:{click:function(e){t.cancel("MarkeAuthorizeDialog")}}})]),t._v(" "),a("div",{staticClass:"content",slot:"modal-body"},[t.authorizeSuccess?a("div",{staticClass:"part"},[a("div",{staticClass:"successInfo"},[a("i",{staticClass:"agent-common_icon_success"}),t._v(" "),a("span",[t._v("授权成功")])])]):t._e(),t._v(" "),a("div",{staticClass:"part"},[a("div",{staticClass:"title"},[a("span",[t._v("超市信息")])]),t._v(" "),a("div",{staticClass:"contentBody"},[a("table",{staticClass:"table table-bordered table-hover text-center info"},[a("tbody",[a("tr",[a("td",{staticClass:"width-110 fontRight"},[t._v("超市名称：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.shopDetailData.shop_name))]),t._v(" "),a("td",{staticClass:"width-110 fontRight"},[t._v("所在地域：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.shopDetailData.regionName))])]),t._v(" "),a("tr",[a("td",{staticClass:"width-110 fontRight"},[t._v("联系人：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.shopDetailData.manager_name))]),t._v(" "),a("td",{staticClass:"width-110 fontRight"},[t._v("联系电话：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.shopDetailData.manager_phone))])]),t._v(" "),a("tr",[a("td",{staticClass:"width-110 fontRight"},[t._v("详细地址：")]),t._v(" "),a("td",{staticClass:"fontLeft",attrs:{colspan:"3"}},[t._v(t._s(t.shopDetailData.address)+"\n              ")])])])])])]),t._v(" "),t.authorizeSuccess?a("div",{staticClass:"part"},[a("div",{staticClass:"title"},[a("span",[t._v("授权记录")])]),t._v(" "),a("div",{staticClass:"contentBody"},[a("table",{staticClass:"table table-bordered table-hover text-center info"},[a("tbody",[a("tr",[a("td",{staticClass:"width-110 fontRight"},[t._v("版本：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.authorizeSuccessData.versionName))]),t._v(" "),a("td",{staticClass:"width-110 fontRight"},[t._v("支付金额：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.comUtil.formatMoney(t.authorizeSuccessData.sale_money)))])]),t._v(" "),a("tr",[a("td",{staticClass:"width-110 fontRight"},[t._v("授权人：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.authorizeSuccessData.username))]),t._v(" "),a("td",{staticClass:"width-110 fontRight"},[t._v("授权时间：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.shopDetailData.createTimeName))])]),t._v(" "),a("tr",[a("td",{staticClass:"width-110 fontRight"},[t._v("使用期限：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.authorizeSuccessData.expireTimeName))]),t._v(" "),a("td",{staticClass:"width-110 fontRight"},[t._v("剩余：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.authorizeSuccessData.surplus_time)+"个")])])])])])]):t._e(),t._v(" "),t.authorizeSuccess?t._e():a("div",{staticClass:"part"},[a("div",{staticClass:"title"},[a("span",[t._v("版本信息")])]),t._v(" "),a("div",{staticClass:"contentBody"},[a("table",{staticClass:"table table-bordered table-hover text-center info"},[a("tbody",[a("tr",[a("td",{staticClass:"width-110 fontRight"},[t._v("版本：")]),t._v(" "),a("td",{staticClass:"width-202 fontLeft"},[t._v(t._s(t.shopDetailData.versionName))]),t._v(" "),a("td",{staticClass:"width-110 fontRight"},[t._v("剩余时间：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.shopDetailData.days)+"天")])])])])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.authorizeSuccess,expression:"!authorizeSuccess"}],staticClass:"part"},[a("div",{staticClass:"title"},[a("span",[t._v("授权版本")])]),t._v(" "),a("div",{staticClass:"contentBody"},[a("div",{staticClass:"tableLog"},[a("span",{staticClass:"labelTitle"},[t._v("版本：")]),t._v(" "),a("SelevtVue",{attrs:{options:t.version.options,all:!1},model:{value:t.version.value,callback:function(e){t.version.value=e},expression:"version.value"}}),t._v(" "),a("form",{staticClass:"marginT-20"},[a("div",{staticClass:"vee-form-grop"},[a("SelevtVue",{staticClass:"authorizeYear",class:{"has-error":t.errors.has("authorizeYear")},attrs:{options:t.authorizeYear.options,all:!1},model:{value:t.authorizeYear.value,callback:function(e){t.authorizeYear.value=e},expression:"authorizeYear.value"}}),t._v(" "),a("span",{staticClass:"labelTitle"},[t._v("授权年限：")]),t._v(" "),a("bs-input",{directives:[{name:"validate",rawName:"v-validate",value:t.rules,expression:"rules"}],staticClass:"inlineBlock width-260",class:{input:!0,"is-danger":t.errors.has("authorizeYear")},attrs:{name:"authorizeYear",type:"text"},model:{value:t.authorizeYear.value,callback:function(e){t.authorizeYear.value="string"==typeof e?e.trim():e},expression:"authorizeYear.value"}}),a("span",{staticClass:"tip"},[t._v("剩余"),a("b",{staticClass:"red"},[t._v(t._s(t.RemainAuthorize))]),t._v("个授权数")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("authorizeYear"),expression:"errors.has('authorizeYear')"}],staticClass:"is-danger marginL-70"},[t._v(t._s(t.errors.first("authorizeYear"))+"\n              ")])],1),t._v(" "),a("div",{staticClass:"vee-form-grop"},[a("span",{staticClass:"labelTitle"},[t._v("销售金额：")]),t._v(" "),a("bs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|money",expression:"'required|money'"}],staticClass:"inlineBlock width-260",class:{input:!0,"is-danger":t.errors.has("saleMoney")},attrs:{name:"saleMoney",autocomplete:"off",type:"text"},model:{value:t.saleMoney,callback:function(e){t.saleMoney="string"==typeof e?e.trim():e},expression:"saleMoney"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("saleMoney"),expression:"errors.has('saleMoney')"}],staticClass:"is-danger marginL-70"},[t._v(t._s(t.errors.first("saleMoney"))+"\n              ")])],1)])],1)])])]),t._v(" "),a("div",{staticClass:"footer",slot:"modal-footer"},[t.authorizeSuccess?t._e():a("div",{staticClass:"groupBtn width-236"},[a("button",{staticClass:"btn marginR-14",attrs:{type:"button"},on:{click:function(e){t.cancel("MarkeAuthorizeDialog")}}},[t._v("取消\n      ")]),t._v(" "),a("button",{staticClass:"btn comfirm",class:{loading:t.btn.loading},attrs:{type:"button",disabled:t.btn.loading},on:{click:t.comfirm}},[t._v("确认\n      ")])]),t._v(" "),t.authorizeSuccess?a("div",{staticClass:"groupBtn width-110"},[a("button",{staticClass:"btn comfirm",attrs:{type:"button"},on:{click:function(e){t.cancel("MarkeAuthorizeDialog",!0)}}},[t._v("确认\n      ")])]):t._e()])])},staticRenderFns:[]}},416:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{staticClass:"MarketConsumerDialog",attrs:{width:"800px",effect:"fade",backdrop:!1},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("div",{staticClass:"displayNone"},[t._v(t._s(t.AllData))]),t._v(" "),a("div",{staticClass:"header",slot:"modal-header"},[a("span",[t._v("超市详情")]),t._v(" "),a("span",{staticClass:"pull-right cancelIcon agent-Pop-up_icon_close",on:{click:function(e){t.cancel("MarketConsumerDialog")}}})]),t._v(" "),a("div",{staticClass:"content",slot:"modal-body"},[a("div",{staticClass:"part"},[a("div",{staticClass:"title"},[a("span",[t._v("超市信息")])]),t._v(" "),a("div",{staticClass:"contentBody"},[a("table",{staticClass:"table table-bordered table-hover text-center info"},[a("tbody",[a("tr",[a("td",{staticClass:"width-110 fontRight"},[t._v("超市名称：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.shopDetailData.shop_name))]),t._v(" "),a("td",{staticClass:"width-110 fontRight"},[t._v("所在地域：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.shopDetailData.regionName))])]),t._v(" "),a("tr",[a("td",{staticClass:"width-110 fontRight"},[t._v("联系人：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.shopDetailData.manager_name))]),t._v(" "),a("td",{staticClass:"width-110 fontRight"},[t._v("联系电话：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.shopDetailData.manager_phone))])]),t._v(" "),a("tr",[a("td",{staticClass:"width-110 fontRight"},[t._v("详细地址：")]),t._v(" "),a("td",{staticClass:"fontLeft",attrs:{colspan:"3"}},[t._v(t._s(t.shopDetailData.address)+"\n              ")])]),t._v(" "),a("tr",[a("td",{staticClass:"width-110 fontRight"},[t._v("注册时间：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.shopDetailData.createTimeName))]),t._v(" "),a("td",[t._v("版本：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.shopDetailData.versionName))])]),t._v(" "),a("tr",[a("td",{staticClass:"width-110 fontRight"},[t._v("剩余时间：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.shopDetailData.days))]),t._v(" "),a("td",{staticClass:"width-110 fontRight"},[t._v("在线pos：")]),t._v(" "),a("td",{staticClass:"fontLeft"},[t._v(t._s(t.shopDetailData.pos_online_num))])]),t._v(" "),a("tr",[a("td",{staticClass:"width-110 fontRight"},[t._v("销售员：")]),t._v(" "),a("td",{staticClass:"fontLeft",attrs:{colspan:"3"}},[a("SelevtVue",{attrs:{options:t.staff.options,searchBox:!0,all:!1},model:{value:t.staff.value,callback:function(e){t.staff.value=e},expression:"staff.value"}})],1)])])])])]),t._v(" "),a("div",{staticClass:"part"},[a("div",{staticClass:"title"},[a("span",[t._v("授权记录")])]),t._v(" "),a("div",{staticClass:"contentBody"},[a("table",{staticClass:"table table-bordered table-hover text-center",class:{"marginB-20":!t.tableData.length}},[a("thead",[a("tr",[a("th",[t._v("序号")]),t._v(" "),a("th",[t._v("授权时间")]),t._v(" "),a("th",[t._v("授权数")]),t._v(" "),a("th",[t._v("版本")]),t._v(" "),a("th",[t._v("授权人")]),t._v(" "),a("th",[t._v("到期时间")]),t._v(" "),a("th",[t._v("剩余")]),t._v(" "),a("th",[t._v("金额")])])]),t._v(" "),a("tbody",[t.tableData.length?t._l(t.tableData,function(e){return a("tr",[a("td",[t._v(t._s(e.index))]),t._v(" "),a("td",[t._v(t._s(e.createTimeName))]),t._v(" "),a("td",[t._v(t._s(e.empower_num))]),t._v(" "),a("td",{class:{standard:1==e.version_type,increment:2==e.version_type}},[t._v(t._s(e.versionName)+"\n                  ")]),t._v(" "),a("td",[t._v(t._s(e.username))]),t._v(" "),a("td",[t._v(t._s(e.expireTimeName))]),t._v(" "),a("td",[t._v(t._s(e.surplus_days)+"天")]),t._v(" "),a("td",[t._v(t._s(e.sale_money))])])}):a("tr",[a("td",{attrs:{colspan:"12"}},[t._v("暂无数据")])])],2)]),t._v(" "),t.tableData.length?a("div",{staticClass:"paginationDiv"},[a("span",{staticClass:"paginationTitle"},[t._v("\n              共"),a("b",{staticClass:"textColor"},[t._v(t._s(t.pagination.centent.total))]),t._v("条记录\n            ")]),t._v(" "),a("PaginationVue",{attrs:{pagination:t.pagination,limitOption:!1,toPageOption:!1},on:{"update:pagination":function(e){t.pagination=e},changeCurrentPage:t.changeCurrentPage}})],1):t._e()])])]),t._v(" "),a("div",{staticClass:"footer",slot:"modal-footer"},[a("div",{staticClass:"groupBtn"},[a("button",{staticClass:"btn marginR-14",attrs:{type:"button"},on:{click:function(e){t.cancel("MarketConsumerDialog")}}},[t._v("取消\n      ")]),t._v(" "),a("button",{staticClass:"btn comfirm",class:{loading:t.btn.loading},attrs:{type:"button",disabled:t.btn.loading},on:{click:t.comfirm}},[t._v("确认\n      ")])])])])},staticRenderFns:[]}},431:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"displayNone"},[t._v(t._s(t.countLocalState))]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"customerList"},[a("div",{staticClass:"condition"},[a("div",{staticClass:"displayNone"},[t._v(t._s(t.AllData))]),t._v(" "),a("div",{staticClass:"hr"},[a("SearchVue",{attrs:{placeholder:"超市名称/联系电话"},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),t._v(" "),a("span",[t._v("状态：")]),t._v(" "),a("SelevtVue",{attrs:{options:t.status.options},model:{value:t.status.value,callback:function(e){t.status.value=e},expression:"status.value"}}),t._v(" "),a("span",[t._v("区域：")]),t._v(" "),a("CascadeVue",{attrs:{options:t.region.options},model:{value:t.region.value,callback:function(e){t.region.value=e},expression:"region.value"}}),t._v(" "),a("span",[t._v("版本：")]),t._v(" "),a("SelevtVue",{attrs:{options:t.version.options},model:{value:t.version.value,callback:function(e){t.version.value=e},expression:"version.value"}}),t._v(" "),a("span",[t._v("销售员：")]),t._v(" "),a("SelevtVue",{attrs:{options:t.staff.options,searchBox:!0},model:{value:t.staff.value,callback:function(e){t.staff.value=e},expression:"staff.value"}})],1)]),t._v(" "),a("div",{staticClass:"result"},[a("table",{staticClass:"table table-bordered table-hover text-center",class:{"marginB-20":!t.tableData.length}},[a("thead",[a("tr",[a("th",[t._v("序号")]),t._v(" "),a("th",[t._v("超市名称")]),t._v(" "),a("th",[t._v("区域")]),t._v(" "),a("th",[t._v("详细地址")]),t._v(" "),a("th",[t._v("联系人")]),t._v(" "),a("th",[t._v("联系电话")]),t._v(" "),a("th",[t._v("在线POS")]),t._v(" "),a("th",[t._v("版本")]),t._v(" "),a("th",[t._v("销售员")]),t._v(" "),a("SortVue",{tag:"th",staticClass:"sortTh",attrs:{title:"注册时间",attr:"create_time"},on:{sortCallBack:t.sortCallBack}}),t._v(" "),a("SortVue",{tag:"th",staticClass:"sortTh",attrs:{title:"剩余",attr:"empower_end_date"},on:{sortCallBack:t.sortCallBack}}),t._v(" "),a("th",[t._v("状态")]),t._v(" "),a("th",[t._v("操作")])])]),t._v(" "),a("tbody",[t.tableData.length?t._l(t.tableData,function(e){return a("tr",[a("td",[t._v(t._s(e.index))]),t._v(" "),a("td",[t._v(t._s(e.shop_name))]),t._v(" "),a("td",[t._v(t._s(e.regionName))]),t._v(" "),a("td",[t._v(t._s(e.address))]),t._v(" "),a("td",[t._v(t._s(e.manager_name))]),t._v(" "),a("td",[t._v(t._s(e.manager_phone))]),t._v(" "),a("td",[t._v(t._s(e.online_pos_num))]),t._v(" "),a("td",{class:{standard:1==e.version_type,increment:2==e.version_type}},[t._v(t._s(e.versionName)+"\n                ")]),t._v(" "),a("td",[t._v(t._s(e.username))]),t._v(" "),a("td",[t._v(t._s(e.createTimeName))]),t._v(" "),a("td",[t._v(t._s(e.days)+"天")]),t._v(" "),a("td",{class:{Expired:0==e.shop_status,normal:1==e.shop_status,disable:2==e.shop_status}},[t._v(t._s(e.statusName)+"\n                ")]),a("td",[a("button",{staticClass:"btn btn-link padding-0 detail",attrs:{type:"button","data-shopId":e.shop_id},on:{click:function(e){t.userDetail("MarketConsumerDialog",e)}}},[t._v("详情\n                  ")]),t._v(" "),a("button",{staticClass:"btn btn-link padding-0 power",attrs:{type:"button","data-shopId":e.shop_id},on:{click:function(e){t.userDetail("MarkeAuthorizeDialog",e)}}},[t._v("授权\n                  ")])])])}):a("tr",[a("td",{attrs:{colspan:"13"}},[t._v("暂无数据")])])],2)]),t._v(" "),t.tableData.length?a("div",{staticClass:"paginationDiv"},[a("span",{staticClass:"paginationTitle"},[t._v("\n            共"),a("b",{staticClass:"textColor"},[t._v(t._s(t.pagination.centent.total))]),t._v("条数据\n          ")]),t._v(" "),a("PaginationVue",{attrs:{pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e},changeCurrentPage:t.changeCurrentPage}})],1):t._e()])]),t._v(" "),t.dialogs.MarketConsumerDialog?a("MarketConsumerDialog",{attrs:{shopDetailData:t.shopDetailData},on:{close:t.close}}):t._e(),t._v(" "),t.dialogs.MarkeAuthorizeDialog?a("MarkeAuthorizeDialog",{attrs:{shopDetailData:t.shopDetailData},on:{close:t.close}}):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tabs"},[a("ul",[a("i",{staticClass:"iconTitle"}),t._v(" "),a("li",{staticClass:"pull-left"},[t._v("超市列表")])])])}]}}});