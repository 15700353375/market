webpackJsonp([11],{336:function(t,e,s){var a=s(235)(s(384),s(423),null,null,null);t.exports=a.exports},349:function(t,e,s){var a=s(235)(s(350),s(351),null,null,null);t.exports=a.exports},350:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(47),n=(a(i),s(236)),r=a(n);e.default={props:{value:{type:[String,Number]},options:{type:Array},searchBox:{type:Boolean,default:!1},all:{type:Boolean,default:!0},none:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"}},data:function(){return{currentVal:"",searchInput:"",optionsConfig:[],searchFunc:!1}},mounted:function(){},computed:{getOptionsConfig:function(){if(!this.searchFunc){if(this.optionsConfig=this.options,this.all){var t={value:"",label:"全部"};this.optionsConfig.unshift(t)}if(this.none){var e={value:"0",label:"无"};this.optionsConfig.unshift(e)}}},getCurrentVal:function(){if(!this.searchFunc)if(""==this.value)this.all&&(this.currentVal="全部");else if(0==this.value)this.none&&(this.currentVal="无");else{var t=r.default.find(this.optionsConfig,{value:parseInt(this.value)});t&&(this.currentVal=t.label)}}},watch:{searchInput:function(){var t=this;if(this.searchFunc=!0,this.searchInput){var e=[];this.options.forEach(function(s){r.default.includes(s.label,t.searchInput)&&e.push(s)}),this.optionsConfig=e}else this.optionsConfig=this.options}},methods:{showMenu:function(t){},choseLi:function(t){"liContent"==t.target.className&&(this.currentVal=t.target.innerText,this.$emit("input",t.target.dataset.value),$(".dropdownMenu").hide(),t.stopPropagation())}},components:{}}},351:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"selectVue"},[s("div",{staticClass:"displayNone"},[t._v(t._s(t.getOptionsConfig))]),t._v(" "),s("div",{staticClass:"displayNone"},[t._v(t._s(t.getCurrentVal))]),t._v(" "),t._m(0),t._v(" "),s("input",{attrs:{type:"text",readonly:"",placeholder:t.placeholder},domProps:{value:t.currentVal},on:{click:function(e){e.stopPropagation(),t.showMenu(e)}}}),t._v(" "),s("ul",{staticClass:"dropdownMenu",attrs:{id:(Math.random()+"").slice(2)},on:{click:t.choseLi}},[t.searchBox?s("li",{staticClass:"searchBox liContent"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],staticClass:"searchInput",domProps:{value:t.searchInput},on:{input:function(e){e.target.composing||(t.searchInput=e.target.value)}}})]):t._e(),t._v(" "),t._l(t.optionsConfig,function(e){return s("li",{staticClass:"liContent",attrs:{"data-value":e.value}},[t._v("\n      "+t._s(e.label)+"\n    ")])})],2)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"caretSpan"},[s("i",{staticClass:"caretBottom"})])}]}},352:function(t,e,s){"use strict";e.__esModule=!0;var a=s(237),i=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t}},372:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(28),i=s(349),n=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default={props:[""],data:function(){return{visible:!0,version:{value:1,options:[{value:1,label:"标准版"},{value:2,label:"增值版"}]},applyNumber:"",remarks:"",btn:{loading:!1}}},mounted:function(){$(".modal-dialog").on("click",function(t){var e=$(t.target),s=e.closest(".selectVue");if(s.length){(e.hasClass("caretBottom")||e.hasClass("caretSpan"))&&s.find("input").first().focus();var a=s.find(".dropdownMenu")[0].id;return $(".dropdownMenu").hide(),$("#"+a).show(),!1}$(".dropdownMenu").hide(),t.stopPropagation()})},computed:{},methods:{comfirm:function(){var t=this;this.$validator.validateAll().then(function(e){if(e){t.btnLoading=!0;var s={version_type:t.version.value,empower_num:t.applyNumber,remarks:t.remarks};t.$ajaxPost(a.urls.AGENT_APPLY_CREATE,s,t.btn).then(function(e){e&&200==e.code&&(t.$message.success(e.message),t.$emit("close","AuthorizeApplyDialog",!0))})}})},cancel:function(t,e){this.$emit("close",t,e)}},components:{SelevtVue:n.default}}},384:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(352),n=a(i),r=s(28),o=s(397),l=a(o),c=s(48);e.default={data:function(){return{standard:{total_empower_num:0,empower_num_used:0,empower_num_surplus:0,assign_num:0},increment:{total_empower_num:0,empower_num_used:0,empower_num_surplus:0,assign_num:0},activeLi:{distributePower:!1,applyPower:!1},refresh:"",dialogs:{AuthorizeApplyDialog:!1}}},computed:(0,n.default)({},(0,c.mapState)({countLocalState:function(t){this.refresh=t.authorizeFrame.refresh,this.activeLi[t.common.activeTab]=!0}}),{AllData:function(){var t={};this.refresh;this.queryList(t)}}),methods:{queryList:function(t){var e=this,s=this.$ajaxPost(r.urls.EMPLOYEE_EMPLOYEE_COUNT);s&&s.then(function(t){t&&200==t.code&&(e.standard=t.data.version1,e.increment=t.data.version2)})},initActiveLi:function(){for(var t in this.activeLi)this.activeLi[t]=!1},apply:function(){this.dialogs.AuthorizeApplyDialog=!0},roRouter:function(t,e){if(!$(e.target).hasClass("active"))switch(this.initActiveLi(),t){case"distributePower":this.$store.commit("common/setActiveTab","distributePower"),this.$router.push({name:"distributePower"});break;case"applyPower":this.$store.commit("common/setActiveTab","applyPower"),this.$router.push({name:"applyPower"})}},close:function(t,e){this.dialogs[t]=!1,e&&this.$store.commit("authorizeFrame/setRefresh",!this.refresh)}},components:{AuthorizeApplyDialog:l.default}}},397:function(t,e,s){var a=s(235)(s(372),s(407),null,null,null);t.exports=a.exports},407:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{staticClass:"AuthorizeApplyDialog",attrs:{width:"400px",effect:"fade",backdrop:!1},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[s("div",{staticClass:"header",slot:"modal-header"},[s("span",[t._v("申请授权数")]),t._v(" "),s("span",{staticClass:"pull-right cancelIcon agent-Pop-up_icon_close",on:{click:function(e){t.cancel("AuthorizeApplyDialog")}}})]),t._v(" "),s("div",{staticClass:"content",slot:"modal-body"},[s("div",{staticClass:"part"},[s("div",{staticClass:"contentBody"},[s("span",{staticClass:"labelTitle"},[t._v("授权数版本：")]),t._v(" "),s("SelevtVue",{attrs:{options:t.version.options,all:!1},model:{value:t.version.value,callback:function(e){t.version.value=e},expression:"version.value"}}),t._v(" "),s("form",{staticClass:"marginT-20"},[s("div",{staticClass:"vee-form-grop"},[s("span",{staticClass:"labelTitle"},[s("b",{staticClass:"red"},[t._v("*")]),t._v("申请数量：")]),t._v(" "),s("bs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"inlineBlock width-260",class:{input:!0,"is-danger":t.errors.has("applyNumber")},attrs:{placeholder:"请输入...",name:"applyNumber",type:"text"},model:{value:t.applyNumber,callback:function(e){t.applyNumber="string"==typeof e?e.trim():e},expression:"applyNumber"}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("applyNumber"),expression:"errors.has('applyNumber')"}],staticClass:"is-danger marginL-90"},[t._v(t._s(t.errors.first("applyNumber"))+"\n              ")])],1),t._v(" "),s("div",{staticClass:"vee-form-grop marginB-20 heightAuto"},[s("span",{staticClass:"labelTitle"},[t._v("备注：")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.remarks,expression:"remarks",modifiers:{trim:!0}}],staticClass:"inlineBlock width-260 form-control",class:{input:!0,"is-danger":t.errors.has("remarks")},attrs:{rows:"3",name:"remarks",placeholder:"请输入...",autocomplete:"off",type:"remarks"},domProps:{value:t.remarks},on:{input:function(e){e.target.composing||(t.remarks=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("remarks"),expression:"errors.has('remarks')"}],staticClass:"is-danger marginL-75"},[t._v(t._s(t.errors.first("remarks"))+"\n              ")])])])],1)])]),t._v(" "),s("div",{staticClass:"footer",slot:"modal-footer"},[s("div",{staticClass:"groupBtn width-236"},[s("button",{staticClass:"btn marginR-14",attrs:{type:"button"},on:{click:function(e){t.cancel("AuthorizeApplyDialog")}}},[t._v("取消\n      ")]),t._v(" "),s("button",{staticClass:"btn comfirm",class:{loading:t.btn.loading},attrs:{type:"button",disabled:t.btn.loading},on:{click:t.comfirm}},[t._v("确认\n      ")])])])])},staticRenderFns:[]}},423:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container-fluid extra"},[s("div",{staticClass:"displayNone"},[t._v(t._s(t.countLocalState))]),t._v(" "),s("div",{staticClass:"displayNone"},[t._v(t._s(t.AllData))]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 paddingR-7"},[s("div",{staticClass:"part"},[s("div",{staticClass:"description"},[s("img",{staticClass:"img userFirst",attrs:{src:"/agentStatic/img/empower_img_standard.png"}}),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"total"},[s("p",{staticClass:"title"},[t._v("总授权数（标准版）")]),t._v(" "),s("p",{staticClass:"number"},[t._v(t._s(t.standard.total_empower_num))])])]),t._v(" "),s("div",{staticClass:"tip"},[s("div",{staticClass:"row margin-0"},[s("div",{staticClass:"col-md-4 tipDetail paddingL-24"},[t._v("已使用："+t._s(t.standard.empower_num_used))]),t._v(" "),s("div",{staticClass:"col-md-4 tipDetail divide paddingL-24"},[t._v("剩余："+t._s(t.standard.empower_num_surplus))]),t._v(" "),s("div",{staticClass:"col-md-4 tipDetail paddingL-24"},[t._v("可分配："+t._s(t.standard.assign_num))])])])])]),t._v(" "),s("div",{staticClass:"col-md-6 paddingL-7"},[s("div",{staticClass:"part"},[s("div",{staticClass:"description"},[s("img",{staticClass:"img",attrs:{src:"/agentStatic/img/empower_img__appreciation.png"}}),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"total"},[s("p",{staticClass:"title"},[t._v("总授权数（增值版）")]),t._v(" "),s("p",{staticClass:"number"},[t._v(t._s(t.increment.total_empower_num))])])]),t._v(" "),s("div",{staticClass:"tip"},[s("div",{staticClass:"row margin-0"},[s("div",{staticClass:"col-md-4 tipDetail paddingL-24"},[t._v("已使用："+t._s(t.increment.empower_num_used))]),t._v(" "),s("div",{staticClass:"col-md-4 tipDetail divide paddingL-24"},[t._v("剩余："+t._s(t.increment.empower_num_surplus))]),t._v(" "),s("div",{staticClass:"col-md-4 tipDetail paddingL-24"},[t._v("可分配："+t._s(t.increment.assign_num))])])])])])])]),t._v(" "),s("div",{staticClass:"main authorizeFrame"},[s("div",{staticClass:"tabsUl"},[s("ul",[s("li",{staticClass:"text-center pull-left",class:{active:t.activeLi.distributePower},on:{click:function(e){t.roRouter("distributePower",e)}}},[t._v("分配授权数\n        ")]),t._v(" "),s("li",{staticClass:"text-center pull-left",class:{active:t.activeLi.applyPower},on:{click:function(e){t.roRouter("applyPower",e)}}},[t._v("申请授权数\n        ")])]),t._v(" "),t.activeLi.applyPower?s("div",{staticClass:"applyBtn pull-right"},[s("button",{staticClass:"btn",on:{click:t.apply}},[s("i",{staticClass:"agent-common_icon_add pull-left"}),t._v(" "),s("span",[t._v("申请")])])]):t._e()]),t._v(" "),s("router-view")],1),t._v(" "),t.dialogs.AuthorizeApplyDialog?s("AuthorizeApplyDialog",{on:{close:t.close}}):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon"},[s("i",{staticClass:"agent-empower_icon_standard"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon"},[s("i",{staticClass:"agent-empower_icon_appreciation"})])}]}}});