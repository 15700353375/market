webpackJsonp([6],{345:function(t,a,e){var n=e(235)(e(393),e(424),null,null,null);t.exports=n.exports},349:function(t,a,e){var n=e(235)(e(350),e(351),null,null,null);t.exports=n.exports},350:function(t,a,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var i=e(47),s=(n(i),e(236)),o=n(s);a.default={props:{value:{type:[String,Number]},options:{type:Array},searchBox:{type:Boolean,default:!1},all:{type:Boolean,default:!0},none:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"}},data:function(){return{currentVal:"",searchInput:"",optionsConfig:[],searchFunc:!1}},mounted:function(){},computed:{getOptionsConfig:function(){if(!this.searchFunc){if(this.optionsConfig=this.options,this.all){var t={value:"",label:"全部"};this.optionsConfig.unshift(t)}if(this.none){var a={value:"0",label:"无"};this.optionsConfig.unshift(a)}}},getCurrentVal:function(){if(!this.searchFunc)if(""==this.value)this.all&&(this.currentVal="全部");else if(0==this.value)this.none&&(this.currentVal="无");else{var t=o.default.find(this.optionsConfig,{value:parseInt(this.value)});t&&(this.currentVal=t.label)}}},watch:{searchInput:function(){var t=this;if(this.searchFunc=!0,this.searchInput){var a=[];this.options.forEach(function(e){o.default.includes(e.label,t.searchInput)&&a.push(e)}),this.optionsConfig=a}else this.optionsConfig=this.options}},methods:{showMenu:function(t){},choseLi:function(t){"liContent"==t.target.className&&(this.currentVal=t.target.innerText,this.$emit("input",t.target.dataset.value),$(".dropdownMenu").hide(),t.stopPropagation())}},components:{}}},351:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"selectVue"},[e("div",{staticClass:"displayNone"},[t._v(t._s(t.getOptionsConfig))]),t._v(" "),e("div",{staticClass:"displayNone"},[t._v(t._s(t.getCurrentVal))]),t._v(" "),t._m(0),t._v(" "),e("input",{attrs:{type:"text",readonly:"",placeholder:t.placeholder},domProps:{value:t.currentVal},on:{click:function(a){a.stopPropagation(),t.showMenu(a)}}}),t._v(" "),e("ul",{staticClass:"dropdownMenu",attrs:{id:(Math.random()+"").slice(2)},on:{click:t.choseLi}},[t.searchBox?e("li",{staticClass:"searchBox liContent"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],staticClass:"searchInput",domProps:{value:t.searchInput},on:{input:function(a){a.target.composing||(t.searchInput=a.target.value)}}})]):t._e(),t._v(" "),t._l(t.optionsConfig,function(a){return e("li",{staticClass:"liContent",attrs:{"data-value":a.value}},[t._v("\n      "+t._s(a.label)+"\n    ")])})],2)])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"caretSpan"},[e("i",{staticClass:"caretBottom"})])}]}},353:function(t,a,e){var n=e(235)(e(354),e(356),null,null,null);t.exports=n.exports},354:function(t,a,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var i=e(355),s=n(i),o=e(349),l=n(o);a.default={props:{pagination:{type:Object},limitOption:{type:Boolean,default:!0},toPageOption:{type:Boolean,default:!0}},data:function(){return{page:""}},computed:{autoChangePage:function(){if(1!=this.pagination.centent.current_page){var t=Math.ceil(this.pagination.centent.total/this.pagination.centent.limit),a=this.pagination.centent.current_page>t?t:this.pagination.centent.current_page;this.$emit("changeCurrentPage",a)}}},methods:{loadData:function(){},changePage:function(t){var a=Math.abs(parseInt(t.target.value));this.page=a?a>this.pagination.centent.last_page?this.pagination.centent.last_page:a:1,this.$emit("changeCurrentPage",this.page)}},components:{pagination:s.default,SelevtVue:l.default}}},355:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",[t.pagination.last_page>0?e("ul",{staticClass:"pagination",class:t.sizeClass},[t.showPrevious()?e("li",{class:{disabled:t.pagination.current_page<=1}},[t.pagination.current_page<=1?e("span",[e("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.config.previousText))])]):t._e(),t.pagination.current_page>1?e("a",{attrs:{href:"#","aria-label":t.config.ariaPrevioius},on:{click:function(a){a.preventDefault(),t.changePage(t.pagination.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.config.previousText))])]):t._e()]):t._e(),t._l(t.array,function(a){return e("li",{class:{active:a===t.pagination.current_page}},[e("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.changePage(a)}}},[t._v(t._s(a))])])}),t.showNext()?e("li",{class:{disabled:t.pagination.current_page===t.pagination.last_page||0===t.pagination.last_page}},[t.pagination.current_page===t.pagination.last_page||0===t.pagination.last_page?e("span",[e("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.config.nextText))])]):t._e(),t.pagination.current_page<t.pagination.last_page?e("a",{attrs:{href:"#","aria-label":t.config.ariaNext},on:{click:function(a){a.preventDefault(),t.changePage(t.pagination.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.config.nextText))])]):t._e()]):t._e()],2):t._e()])},staticRenderFns:[],name:"pagination",props:{pagination:{type:Object,required:!0},callback:{type:Function,required:!0},options:{type:Object},size:{type:String}},computed:{array:function(){if(this.pagination.last_page<=0)return[];var t=this.pagination.current_page-this.config.offset;t<1&&(t=1);var a=t+2*this.config.offset;a>=this.pagination.last_page&&(a=this.pagination.last_page);for(var e=[];t<=a;)e.push(t),t+=1;return e},config:function(){return Object.assign({offset:3,ariaPrevious:"Previous",ariaNext:"Next",previousText:"«",nextText:"»",alwaysShowPrevNext:!1},this.options)},sizeClass:function(){return"large"===this.size?"pagination-lg":"small"===this.size?"pagination-sm":""}},watch:{"pagination.per_page":function(t,a){+t!=+a&&this.callback()}},methods:{showPrevious:function(){return this.config.alwaysShowPrevNext||this.pagination.current_page>1},showNext:function(){return this.config.alwaysShowPrevNext||this.pagination.current_page<this.pagination.last_page},changePage:function(t){this.pagination.current_page!==t&&(this.$set(this.pagination,"current_page",t),this.callback())}}};a.default=n},356:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"paginationVue pull-right",class:{"marginR-12":!(t.limitOption&&t.toPageOption)}},[e("div",{staticClass:"displayNone"},[t._v(t._s(t.autoChangePage))]),t._v(" "),t.toPageOption?e("div",{staticClass:"toPage pull-right marginT-9 marginB-9"},[e("span",[t._v("跳转")]),t._v(" "),e("bs-input",{staticClass:"inlineBlock marginB-0 verticalAlignMiddle ",attrs:{type:"number"},on:{blur:t.changePage},model:{value:t.page,callback:function(a){t.page=a},expression:"page"}}),t._v(" "),e("span",[t._v("页")])],1):t._e(),t._v(" "),t.limitOption?e("div",{staticClass:"limit pull-right"},[e("SelevtVue",{attrs:{options:t.pagination.centent.options,all:!1},model:{value:t.pagination.centent.limit,callback:function(a){t.pagination.centent.limit=a},expression:"pagination.centent.limit"}})],1):t._e(),t._v(" "),e("pagination",{staticClass:"pull-right",attrs:{pagination:t.pagination.centent,callback:t.loadData,options:t.pagination.paginationOptions}})],1)},staticRenderFns:[]}},373:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e(28);a.default={props:{title:{type:String},content:{type:String},comfirmsCallBack:{type:Function},cancelCallBack:{type:Function}},data:function(){return{visible:!0,btn:{loading:!1}}},methods:{},components:{}}},381:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e(28),i=e(349),s=function(t){return t&&t.__esModule?t:{default:t}}(i);a.default={props:["staffInfo"],data:function(){return{userId:this.staffInfo.user_id,visible:!0,phone:"",password:"",userName:"",btn:{loading:!1},role:{value:2,options:[{value:2,label:"销售员"}]},rule:""}},mounted:function(){$(".modal-dialog").on("click",function(t){var a=$(t.target),e=a.closest(".selectVue");if(e.length){(a.hasClass("caretBottom")||a.hasClass("caretSpan"))&&e.find("input").first().focus();var n=e.find(".dropdownMenu")[0].id;return $(".dropdownMenu").hide(),$("#"+n).show(),!1}$(".dropdownMenu").hide(),t.stopPropagation()}),this.staffInfo?(this.callBackData(this.staffInfo),this.rule=""):this.rule="required"},computed:{},methods:{comfirm:function(){var t=this;this.$validator.validateAll().then(function(a){if(a)if(t.btn.loading=!0,t.staffInfo){var e={mobile:t.phone,password:t.password,username:t.userName,role:t.role.value,user_id:t.userId};t.$ajaxPost(n.urls.EMPLOYEE_EDIT_EMPLOYEE_INFO,e,t.btn).then(function(a){a&&200==a.code&&(t.$message.success(a.message),t.cancel("staffManagerAddorEditDialog",!0))})}else{var i={mobile:t.phone,password:t.password,username:t.userName,role:t.role.value};t.$ajaxPost(n.urls.EMPLOYEE_ADD_EMPLOYEE,i,t.btn).then(function(a){a&&200==a.code&&(t.$message.success(a.message),t.cancel("staffManagerAddorEditDialog",!0))})}})},callBackData:function(t){this.phone=t.mobile,this.userName=t.username,this.role.value=t.role_id},cancel:function(t,a){this.$emit("close",t,a)}},components:{SelevtVue:s.default}}},393:function(t,a,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var i=e(28),s=e(353),o=n(s),l=e(406),r=n(l),c=e(398),u=n(c);a.default={data:function(){return{staffInfo:"",tableData:[],userId:"",dialogVueContent:"",pagination:{centent:{total:0,current_page:1,last_page:0,limit:10,options:[{value:10,label:"10条/页"},{value:20,label:"20条/页"},{value:50,label:"50条/页"}]},paginationOptions:{offset:3,previousText:"<",nextText:">",alwaysShowPrevNext:!0}},refresh:!1,dialogs:{staffManagerAddorEditDialog:!1,dialogVue:!1}}},mounted:function(){},computed:{AllData:function(){var t={limit:this.pagination.centent.limit,page:this.pagination.centent.current_page};this.refresh;this.queryList(t)}},methods:{queryList:function(t){var a=this;this.$ajaxGet(i.urls.EMPLOYEE_LIST_EMPLOYEE,t).then(function(t){t&&200==t.code&&(a.tableData=t.data.list,a.pagination.centent.total=t.data.pagination.total_num,a.pagination.centent.last_page=t.data.pagination.total_page)})},addStaff:function(t,a){var e=this;if(this.staffInfo="","edit"==t){var n={user_id:a.target.dataset.id},s=this.$ajaxGet(i.urls.EMPLOYEE_GET_EMPLOYEE_INFO,n);s&&s.then(function(t){t&&200==t.code&&(e.staffInfo=t.data,e.dialogs.staffManagerAddorEditDialog=!0)})}else this.dialogs.staffManagerAddorEditDialog=!0},deleteStaff:function(t){this.userId=t.target.dataset.id,this.dialogVueContent="员工删除后，授权数会自动回收，该员工授权数统计详情将不可查！您确定要删除吗？",this.dialogs.dialogVue=!0},comfirmsCallBack:function(t){var a=this;t.loading=!0;var e={user_id:this.userId},n=this.$ajaxPost(i.urls.EMPLOYEE_DEL_EMPLOYEE,e,t);n&&n.then(function(t){t&&200==t.code&&(a.$message.success(t.message),a.close("dialogVue",!0))})},cancelCallBack:function(){this.close("dialogVue")},close:function(t,a){this.dialogs[t]=!1,a&&(this.refresh=!this.refresh)},changeCurrentPage:function(t){this.pagination.centent.current_page=t}},components:{PaginationVue:o.default,staffManagerAddorEditDialog:r.default,DialogVue:u.default}}},398:function(t,a,e){var n=e(235)(e(373),e(417),null,null,null);t.exports=n.exports},406:function(t,a,e){var n=e(235)(e(381),e(418),null,null,null);t.exports=n.exports},417:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("modal",{staticClass:"DialogVue",attrs:{effect:"fade",backdrop:!1},model:{value:t.visible,callback:function(a){t.visible=a},expression:"visible"}},[e("div",{staticClass:"header",slot:"modal-header"},[e("span",[t._v(t._s(t.title))]),t._v(" "),e("span",{staticClass:"pull-right cancelIcon agent-Pop-up_icon_close",on:{click:t.cancelCallBack}})]),t._v(" "),e("div",{staticClass:"content text-center",slot:"modal-body"},[e("i",{staticClass:"agent-Pop-up_icon_notice notice"}),t._v(" "),e("span",{staticClass:"tipContent"},[t._v(t._s(t.content))])]),t._v(" "),e("div",{staticClass:"footer",slot:"modal-footer"},[e("div",{staticClass:"groupBtn width-236"},[e("button",{staticClass:"btn marginR-14",attrs:{type:"button"},on:{click:t.cancelCallBack}},[t._v("取消\n      ")]),t._v(" "),e("button",{staticClass:"btn comfirm",class:{loading:t.btn.loading},attrs:{type:"button",disabled:t.btn.loading},on:{click:function(a){t.comfirmsCallBack(t.btn)}}},[t._v("确认\n      ")])])])])},staticRenderFns:[]}},418:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("modal",{staticClass:"StaffManagerAddorEditDialog",attrs:{width:"400px",effect:"fade",backdrop:!1},model:{value:t.visible,callback:function(a){t.visible=a},expression:"visible"}},[e("div",{staticClass:"header",slot:"modal-header"},[e("span",[t._v(t._s(this.staffInfo?"编辑员工":"新增员工"))]),t._v(" "),e("span",{staticClass:"pull-right cancelIcon agent-Pop-up_icon_close",on:{click:function(a){t.cancel("staffManagerAddorEditDialog")}}})]),t._v(" "),e("div",{staticClass:"content",slot:"modal-body"},[e("div",{staticClass:"part"},[e("div",{staticClass:"contentBody"},[e("form",{staticClass:"marginT-20"},[e("div",{staticClass:"vee-form-grop"},[e("span",{staticClass:"labelTitle"},[e("b",{staticClass:"red"},[t._v("*")]),t._v("手机号：")]),t._v(" "),e("bs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|phone",expression:"'required|phone'"}],staticClass:"inlineBlock width-260",class:{input:!0,"is-danger":t.errors.has("phone")},attrs:{name:"phone",type:"text"},model:{value:t.phone,callback:function(a){t.phone="string"==typeof a?a.trim():a},expression:"phone"}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("phone"),expression:"errors.has('phone')"}],staticClass:"is-danger marginL-75"},[t._v(t._s(t.errors.first("phone"))+"\n              ")])],1),t._v(" "),e("div",{staticClass:"vee-form-grop"},[e("span",{staticClass:"labelTitle"},[t.staffInfo?t._e():e("b",{staticClass:"red"},[t._v("*")]),t._v("密码：")]),t._v(" "),e("bs-input",{directives:[{name:"validate",rawName:"v-validate",value:t.rule,expression:"rule"}],staticClass:"inlineBlock width-260",class:{input:!0,"is-danger":t.errors.has("password")},attrs:{name:"password",autocomplete:"off",type:"password"},model:{value:t.password,callback:function(a){t.password="string"==typeof a?a.trim():a},expression:"password"}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"is-danger marginL-75"},[t._v(t._s(t.errors.first("password"))+"\n              ")])],1),t._v(" "),e("div",{staticClass:"vee-form-grop"},[e("span",{staticClass:"labelTitle"},[e("b",{staticClass:"red"},[t._v("*")]),t._v("姓名：")]),t._v(" "),e("bs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"inlineBlock width-260",class:{input:!0,"is-danger":t.errors.has("userName")},attrs:{name:"userName",autocomplete:"off",type:"text"},model:{value:t.userName,callback:function(a){t.userName="string"==typeof a?a.trim():a},expression:"userName"}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("userName"),expression:"errors.has('userName')"}],staticClass:"is-danger marginL-75"},[t._v(t._s(t.errors.first("userName"))+"\n              ")])],1)]),t._v(" "),e("span",{staticClass:"labelTitle"},[e("b",{staticClass:"red"},[t._v("*")]),t._v("角色：")]),t._v(" "),e("SelevtVue",{attrs:{options:t.role.options,all:!1},model:{value:t.role.value,callback:function(a){t.role.value=a},expression:"role.value"}})],1)])]),t._v(" "),e("div",{staticClass:"footer",slot:"modal-footer"},[e("div",{staticClass:"groupBtn width-236"},[e("button",{staticClass:"btn marginR-14",attrs:{type:"button"},on:{click:function(a){t.cancel("staffManagerAddorEditDialog")}}},[t._v("取消\n      ")]),t._v(" "),e("button",{staticClass:"btn comfirm",class:{loading:t.btn.loading},attrs:{type:"button",disabled:t.btn.loading},on:{click:t.comfirm}},[t._v("确认\n      ")])])])])},staticRenderFns:[]}},424:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main staffList"},[e("div",{staticClass:"tabs"},[t._m(0),t._v(" "),e("div",{staticClass:"addBtn pull-right"},[e("button",{staticClass:"btn",on:{click:t.addStaff}},[e("i",{staticClass:"agent-common_icon_add pull-left"}),t._v(" "),e("span",[t._v("新增员工")])])])]),t._v(" "),e("div",[e("div",{staticClass:"condition"},[e("div",{staticClass:"displayNone"},[t._v(t._s(t.AllData))])]),t._v(" "),e("div",{staticClass:"result"},[e("table",{staticClass:"table table-bordered table-hover text-center",class:{"marginB-20":!t.tableData.length}},[t._m(1),t._v(" "),e("tbody",[t.tableData.length?t._l(t.tableData,function(a){return e("tr",[e("td",[t._v(t._s(a.index))]),t._v(" "),e("td",[t._v(t._s(a.username))]),t._v(" "),e("td",[t._v(t._s(a.mobile))]),t._v(" "),e("td",[t._v(t._s(a.mobile))]),t._v(" "),e("td",[t._v(t._s(a.role_name))]),t._v(" "),e("td",[1!=a.index?e("button",{staticClass:"btn btn-link padding-0 edit",attrs:{type:"button","data-id":a.id},on:{click:function(a){t.addStaff("edit",a)}}},[t._v("编辑\n                  ")]):t._e(),t._v(" "),1!=a.index?e("button",{staticClass:"btn btn-link padding-0 deleteStaff",attrs:{type:"button","data-id":a.id,"data-userName":a.username},on:{click:function(a){t.deleteStaff(a)}}},[t._v("删除\n                  ")]):t._e()])])}):e("tr",[e("td",{attrs:{colspan:"13"}},[t._v("暂无数据")])])],2)]),t._v(" "),t.tableData.length?e("div",{staticClass:"paginationDiv"},[e("span",{staticClass:"paginationTitle"},[t._v("\n            共"),e("b",{staticClass:"textColor"},[t._v(t._s(t.pagination.centent.total))]),t._v("条数据\n          ")]),t._v(" "),e("PaginationVue",{attrs:{pagination:t.pagination},on:{"update:pagination":function(a){t.pagination=a},changeCurrentPage:t.changeCurrentPage}})],1):t._e()])]),t._v(" "),t.dialogs.staffManagerAddorEditDialog?e("staffManagerAddorEditDialog",{attrs:{staffInfo:t.staffInfo},on:{close:t.close}}):t._e(),t._v(" "),t.dialogs.dialogVue?e("DialogVue",{attrs:{title:"删除",content:t.dialogVueContent,comfirmsCallBack:t.comfirmsCallBack,cancelCallBack:t.cancelCallBack},on:{close:t.close}}):t._e()],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",[e("i",{staticClass:"iconTitle"}),t._v(" "),e("li",{staticClass:"pull-left"},[t._v("客户列表")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("序号")]),t._v(" "),e("th",[t._v("姓名")]),t._v(" "),e("th",[t._v("账号")]),t._v(" "),e("th",[t._v("手机号")]),t._v(" "),e("th",[t._v("角色")]),t._v(" "),e("th",{staticClass:"width-140"},[t._v("操作")])])])}]}}});